<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="An interactive data story revealing how global warming and biodiversity loss are connected: from temperature anomalies to the Living Planet Index.">

  <title>Global Climate Change Data Explorer – FIT3179 Week 10</title>

  <!-- Vega Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- ===== Styling ===== -->
  <style>
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 24px;
      background: #fafafa;
      color: #222;
      line-height: 1.5;
    }
    h1 { font-size: 1.6rem; margin-bottom: 0.4rem; }
    h2 { font-size: 1.2rem; margin: 28px 0 12px; }
    p  { margin-bottom: 1.2rem; max-width: 850px; }
    .container { max-width: 1100px; margin: 0 auto; }
    .vis-block { margin: 36px 0; }
    .chart {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.08);
      padding: 12px;
    }
    .note { margin: 8px 0 16px; color: #555; font-size: 0.95rem; }
    footer {
      border-top: 1px solid #ccc;
      margin-top: 40px;
      padding-top: 10px;
      text-align: center;
      font-size: 0.85rem;
      color: #666;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Degrees of Decline: Visualising Earth’s Warming and Biodiversity Loss</h1>
    <p class="intro">
      A planet in change. As global temperatures climb higher than ever recorded, wildlife populations are plummeting. 
      This interactive data story visualises how a warming world reshapes life on Earth — from shrinking mammal habitats 
      to the sharp decline in global biodiversity.
    </p>

    <!-- ========== Visualisation 1 ========== -->
    <div class="vis-block">
      <h2>1. Global Mammal Distribution Map</h2>
      <div id="mammal_map" class="chart"></div>
      <p class="note">
        This map visualises the combined marine and terrestrial ranges of mammals using the
        Equal-Earth projection, which preserves relative area for fairer visual comparison across
        continents and oceans. It’s relevant to this site’s story because it grounds the climate-and-
        biodiversity narrative in <em>place</em>: where species actually live, migrate, and overlap with
        human activity. Hover to reveal detailed attributes from the source dataset (species/range
        properties, status fields, and more). Seeing the spatial footprint of mammals helps explain
        why warming oceans, shifting coastlines, and habitat fragmentation directly translate into
        population declines shown in the Living Planet Index charts below.
      </p>
    </div>

    <!-- ========== Visualisation 2 ========== -->
    <div class="vis-block">
      <h2>2. Global Temperature Anomalies (1850 – 2025)</h2>
      <div id="anomalies" class="chart"></div>
      <p class="note">
        The line traces global land–ocean temperature anomalies from 1850 to 2025.
        Drag the sliders to focus on specific time periods. Dashed rules mark the 0 °C baseline
        and the 1.5 °C Paris-Agreement threshold. Hover to view exact values and record years.
      </p>
    </div>

    <!-- ========== Visualisation 3 ========== -->
    <div class="vis-block">
      <h2>3. Decadal Average Temperature Anomalies</h2>
      <div id="decadeBar" class="chart"></div>
      <p class="note">
        Bars show the mean global temperature anomaly for each decade.
        Decades above the dashed baseline were warmer than the long-term average.
        This chart complements the line plot by summarising long-term warming trends.
      </p>
    </div>

    <!-- ========== Visualisation 4 ========== -->
    <div class="vis-block">
      <h2>4. Global Living Planet Index (1970 = 1)</h2>
      <div id="lpi_chart" class="chart"></div>
      <p class="note">
        The Living Planet Index (LPI) tracks vertebrate population abundance worldwide,
        normalised to 1970 = 1. A declining index indicates biodiversity loss.
        This chart adds ecological context, showing how biodiversity trends mirror
        long-term climate changes.
      </p>
    </div>
    <!-- ========== Visualisation 5 ========== -->
    <div class="vis-block">
      <h2>5. Living Planet Index Heatmap by Region</h2>
      <div id="heatmap_lpi" class="chart"></div>
      <p class="note">
        Each cell shows the Living Planet Index (1970 = 100) for a region in a given year.
        Red areas indicate biodiversity decline relative to 1970, while green shows improvement.
        Use the sliders to filter years or type a region name to focus.
      </p>
    </div>
    <footer>
      Data sources: IUCN Red List (mammal ranges), NOAA GlobalTemp (temperature anomalies),
      WWF Living Planet Index. Created with Vega-Lite (2025).
    </footer>
  </div>

  <!-- ===== Embed Charts ===== -->
  <script>
    vegaEmbed("#mammal_map", "map.vg.json", { actions: false }).catch(console.error);
    vegaEmbed("#anomalies", "anomalies.vg.json", { actions: false }).catch(console.error);
    vegaEmbed("#decadeBar", "decadal_bar.json", { actions: false }).catch(console.error);
    vegaEmbed("#lpi_chart", "lpi_chart.vg.json", { actions: false }).catch(console.error);
    vegaEmbed("#heatmap_lpi", "heatmap_lpi.json", { actions: false }).catch(console.error);
  </script>
</body>
</html>
